# Домашнее задание к занятию  «Загрузка ОС» - Спетницкий Д.И.


## Задание 1 

Какое максимальное количество загрузчиков GRUB2 может быть в системе?
Сколько при этом может быть установлено различных ОС?
Чем ограничиваются эти возможности?

Приведите ответ в свободной форме со своим комментарием.

---

## Решение 1
Максимальное количество загрузчиков GRUB2 в системе не ограничено жёстко, так как GRUB2 может быть установлен на разные диски или разделы. Например, каждый физический диск или логический раздел может содержать свой собственный экземпляр GRUB2. Однако практически это количество зависит от конфигурации оборудования (например, количества дисков).

Что касается операционных систем, GRUB2 поддерживает неограниченное число ОС в теории. Однако при увеличении числа ОС меню загрузки становится громоздким, а некоторые аппаратные компоненты могут работать некорректно.

Ограничения связаны с:

Физическими ресурсами — количеством дисков, разделов и возможностью установки GRUB2 в загрузочные секторы (MBR или EFI).
Политикой управления — например, параметром GRUB_HOWMANY, который регулирует количество отображаемых записей в меню .
Аппаратной совместимостью — слишком большое число записей может вызвать ошибки на старом оборудовании .

GRUB2 гибок, но его использование в многозагрузочных системах требует аккуратной настройки. Чем больше ОС, тем сложнее поддерживать целостность конфигурации, особенно при обновлениях ядер или изменении дисковой структуры. Обычно достаточно одного GRUB2, управляющего несколькими ОС, но эксперименты с множественными загрузчиками возможны при наличии технической необходимости.

---

## Задание 2
На лекции мы рассмотрели загрузку ядра и дополнительных модулей. Ответьте на вопрос: почему сразу не сделано ядро со всеми модулями, ведь в таком случае мы смогли бы избавиться от initrd?

Приведите ответ в свободной форме со своим комментарием.


---

## Решение 2
Ядро Linux не включает все модули напрямую по нескольким причинам. 

Во-первых, встроенное ядро с полным набором модулей стало бы чрезмерно большим, что увеличит время загрузки и потребление памяти. Модульный подход позволяет подключать только те компоненты, которые нужны конкретной системе, экономя ресурсы . Например, драйверы для редко используемого оборудования не будут занимать место в памяти, если они не нужны .

Во-вторых, динамические модули обеспечивают гибкость. Они могут загружаться и выгружаться по мере необходимости, что упрощает обновление драйверов и добавление поддержки нового оборудования без пересборки ядра. Это особенно важно для быстро меняющихся технологий .

Initrd (RAM-диск) остаётся необходимым, даже если все модули встроены в ядро. Например, для монтирования корневой файловой системы может потребоваться доступ к драйверам, реализованным в виде модулей, или выполнение предварительных шагов (например, разблокировка шифрованного диска). Без initrd такие задачи пришлось бы реализовывать внутри самого ядра, что усложнило бы его архитектуру.


Модульный подход — это компромисс между скоростью, гибкостью и удобством сопровождения. Даже теоретически возможное «монолитное» ядро с полным набором модулей не решило бы все проблемы: например, сложные конфигурации дисков (RAID, LVM, шифрование) всё равно потребовали бы initrd для подготовки среды перед загрузкой системы. 

---

## Задание 3*
В чём отличия процесса загрузки BIOS и UEFI?

Приведите ответ в свободной форме со своим комментарием.


---

## Решение 3*
Процесс загрузки через BIOS и UEFI отличается архитектурой, способом взаимодействия с дисками и возможностями. BIOS — это устаревшая технология, которая использует таблицу разделов MBR (Master Boot Record) для поиска загрузочного кода. Она имеет ограничения: поддержка дисков только до 2 ТБ и максимум 4 основных раздела. При загрузке BIOS сначала проверяет оборудование через POST, затем обращается к MBR, где находится небольшой код для запуска загрузчика (например, GRUB).

UEFI (Unified Extensible Firmware Interface) работает с таблицей GPT (GUID Partition Table), что позволяет управлять дисками объёмом до 8 ЗБ и создавать практически неограниченное число разделов. UEFI хранит загрузочные данные в специальном разделе (ESP), где размещаются драйверы, конфигурации и загрузчики. Это делает процесс более гибким: например, UEFI может запускать приложения (например, диагностику оборудования) до загрузки ОС. Также UEFI поддерживает Secure Boot — защиту от вредоносных загрузчиков через проверку цифровых подписей.


Переход с BIOS на UEFI был обусловлен развитием технологий. UEFI не только устраняет ограничения MBR, но и добавляет современные функции, такие как графический интерфейс, сетевые возможности и улучшенную безопасность. Однако BIOS всё ещё используется в старых устройствах, где нет необходимости в поддержке больших дисков или защите Secure Boot. Для пользователя выбор между ними зависит от аппаратных возможностей и требований к системе.



---







